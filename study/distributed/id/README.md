### 分布式ID

> 分布式全局ID生成器作为分布式架构中重要的组成部分，在高并发、分库分表、信息安全方面起着重要作用。

#### 实现方案
- 数据库自增id，设置不同的起始值和步长
- UUID
- Redis    incr incrBy
- Twitter SnowFlake雪花算法  生成64位的整数，时钟回拨问题

#### 雪花算法原理：
- 第⼀个 bit 为符号位，最⾼位为 0 表示正数 
- 第⼆部分 41 个 bit ⽤于记录⽣成 ID 时候的时间戳差值(当前时间戳-开始时间戳)，单位为毫秒，该部分表示的数值范围为 2^41 - 1（69 年）
- 第三部分的 10 个 bit 表示⼯作节点的 ID，表示数值范围为 2^10 - 1，相当于⽀持 1023 个节点 
- 第四部分 12 个 bit 表示每个⼯作节点每毫秒⽣成的循环⾃增 id，最多可以⽣成 2^12 -1 个 id (4095个)，超出归零等待下⼀毫秒重新⾃增，所以理论上每个节点每秒最多能生成4095000个id